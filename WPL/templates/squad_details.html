{% extends "base.html" %} {% block head %} {{ super() }}
<link
        rel="stylesheet"
        href="{{ url_for('static', filename= 'extended_beauty.css') }}"
        xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/squad_details.css') }}">
<script>
  const statsData = {{ stats | tojson }};
</script>
{% endblock %}

{% block content %}
<style>
body {
        background: linear-gradient(90deg, hsl(324 100% 46%), #009fbe)!important;
        background-size: cover;
        background-attachment: fixed;
        font-family: 'Exo 2', sans-serif;
        color: #fff;
        margin: 0;
        padding: 0;
        padding-top: 75px;
        overflow-x: hidden;
        overflow-y: auto;
    }

 body::-webkit-scrollbar {
        width: 5px;
        height: 10px;
    }

    body::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, .1);
        border-radius: 10px;
    }

    body::-webkit-scrollbar-thumb {
        background-color: #ff6b81;
        border-radius: 10px;
    }

    body::-webkit-scrollbar-thumb:hover {
        background-color: #f7b733;
    }
</style>
<div style="background-image: url('/static/images/banner_bg.jpg'); background-size: cover;
            background-attachment: fixed;">
<div class="profile-container" style="--c1: {{ sqclr['c1'] }}; --c2: {{ sqclr['c2'] }}">
    <div class="profile-image">
      <img src="/static/images/squads/{{ sq.Team }}/{{ sq.Name.replace(' ','-') }}.png" alt="Player Photo">
    </div>
    <div class="profile-details">
      <div class="player-name">{{ sq.Name.split(' ')[0] | upper }}&nbsp;<span>{{ sq.Name.split(' ')[1:] | join(' ') | upper }}</span></div>
      <div class="player-sub">
        <img src="/static/images/country_flags/{{ sq.Nationality }}.png" alt="India" style="width:22px;vertical-align:middle;margin-right:6px;border-radius:2px;">
        {{ sq.Nationality }} &nbsp;|&nbsp; {{ sq.Role }}
      </div>
      <div class="player-info-row">
        <div class="player-info-block">
          <span class="label">MATCHES</span>
          <span class="value">{{ stats['Overall']['Batting & Fielding']['Mats'] | default('-') }}</span>
        </div>
        <div class="player-info-block">
          <span class="label">RUNS</span>
          <span class="value">{{ stats['Overall']['Batting & Fielding']['Runs'] | default('-') }}</span>
        </div>
        <div class="player-info-block">
          <span class="label">WICKETS</span>
          <span class="value">{{ stats['Overall']['Bowling']['Wkts'] | default('-') }}</span>
        </div>
      </div>
      <div class="player-meta">
        <div class="meta-item">
          <span class="material-icons icon">cake</span>
          <span><strong>Born:</strong> &nbsp;{{ (sq.DOB).strftime('%B %d, %Y') }}</span>
        </div>
        <div class="meta-item">
          <span class="material-icons icon">event</span>
          <span><strong>WPL Debut:</strong> &nbsp;{{ debut }}</span>
        </div>
        <div class="meta-item">
          <span class="icon" role="img" aria-label="bat">
            <img src="/static/images/Batter.svg" alt="Batting" style="width:22px;height:22px;vertical-align:middle;">
          </span>
          <span><strong>Batting Style:</strong> &nbsp;{{ sq.Batting }}</span>
        </div>
        <div class="meta-item">
          <span class="icon" role="img" aria-label="ball">
            <img src="/static/images/Bowler.svg" alt="Bowling" style="width:22px;height:22px;vertical-align:middle;">
          </span>
          <span><strong>Bowling Style:</strong> &nbsp;{{ sq.Bowling }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="stats-container">
        <div class="stats-title">STATS</div>
        <!-- Mobile Dropdown Filter -->
        <div class="stats-dropdown-container">
            <div class="stats-dropdown" id="yearDropdown">
                <button class="stats-dropdown-toggle" onclick="toggleDropdown()" id="dropdownBtn">
                    <span id="dropdownLabel">Overall</span> <i class="fa fa-chevron-down font_10 ms-1" id="dropdownChevron"></i>
                </button>
                <div class="stats-dropdown-menu" id="dropdownMenu"></div>
            </div>
        </div>
        <!-- Mobile Vertical Table -->
        <div class="vertical-table" id="verticalTable">
            <!-- Content will be injected by JS -->
        </div>
        <!-- Mobile Vertical Bowling Table -->
        <div class="vertical-table" id="verticalBowlingTable">
            <!-- Content will be injected by JS -->
        </div>
        <!-- Desktop Horizontal Table -->
        <div class="horizontal-table" id="horizontalTable"></div>
        <!-- Desktop Horizontal Bowling Table -->
        <div class="horizontal-table" id="horizontalBowlingTable"></div>
    </div>

  <script src="{{ url_for('static', filename='js/squad_details.js') }}"></script>
</div>
{% endblock %}